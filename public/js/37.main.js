"use strict";(self.webpackChunklistapp=self.webpackChunklistapp||[]).push([[37],{37:(t,e,s)=>{s.r(e),s.d(e,{showShowpage:()=>i});var n=s(181);const i=async()=>{const t=location.pathname.toString().substring(6),e=new Promise((async e=>{const{getUserData:n}=await s.e(938).then(s.bind(s,938));e(n(t))})),n=new Promise((async e=>{const{getLists:n}=await s.e(561).then(s.bind(s,561));e(n(t))})),i=new Promise((t=>{const e=new XMLHttpRequest;e.open("GET","/template/show.html",!0),e.onload=()=>{if(e.status>=200&&e.status<400){const s=e.responseText;document.getElementById("main").innerHTML=s,t()}},e.send()}));Promise.all([e,n,i]).then((async e=>{const{setUserData:n}=await s.e(245).then(s.bind(s,245));n(e[0]),o(e[1],t,e[0].twitter_sys_id)}));const{getAuth:c,onAuthStateChanged:a}=await Promise.all([s.e(238),s.e(930)]).then(s.bind(s,930)),{routing:r}=await Promise.resolve().then(s.bind(s,779)),{setNotice:l}=await Promise.resolve().then(s.bind(s,779));a(c(),(async t=>{const e=document.getElementById("makelist-button");null==t||t.isAnonymous?(e.style.display="inline",e.onclick=()=>{r("")}):e.style.display="none",l([{message:"友達の行きたいとこリストから、お誘いをしよう",isError:!1},{message:"行きたいとこリストを作成して共有しよう",isError:!1}])}))},o=async(t,e,s)=>{document.getElementById("show-yet-list-container").innerHTML="",document.getElementById("show-done-list-container").innerHTML="";let n=t.filter((t=>!t.check));n.sort(((t,e)=>t.order-e.order)),n.forEach((t=>{c(t.iid,t.name,t.check,e,s)}));let i=t.filter((t=>t.check));i.sort(((t,e)=>t.check_date-e.check_date)),i.forEach((t=>{c(t.iid,t.name,t.check)}))},c=async(t,e,s,i,o)=>{const c=document.createElement("div");c.setAttribute("class","list-parent"),c.setAttribute("id","id-"+t);const a=document.createElement("div");a.setAttribute("class","list-wrapper"),c.appendChild(a);const r=document.createElement("img");s?(r.setAttribute("src","/data/done.svg"),r.setAttribute("class","list-check-box-done")):(r.setAttribute("src","/data/yet.svg"),r.setAttribute("class","list-check-box-yet")),a.appendChild(r);const l=document.createElement("div");l.setAttribute("class","list-text-box");const d=document.createTextNode(e);l.appendChild(d),l.style.color=s?"#C3C3C3":"#000",a.appendChild(l);const h=document.createElement("img");if(!s){const t=document.createElement("a");let s="https://twitter.com/messages/compose?";s+="recipient_id="+o,s+="&text=https://"+n.Z.domain+"/show/"+i+"%0A",s+=e+"にリアクションが届きました!",t.setAttribute("href",s),h.setAttribute("src","/data/invite.svg"),h.setAttribute("class","show-invite-button-img"),t.appendChild(h),a.appendChild(t)}a.ontouchstart=()=>{a.style.background="#EEE"},a.ontouchend=()=>{a.style.background="#FFF"};let m=!1;if(l.onclick=()=>{m=l.offsetWidth<l.scrollWidth,m?(l.style.whiteSpace="normal",a.style.height="auto"):(l.style.whiteSpace="nowrap",a.style.height="60px")},document.addEventListener("click",(t=>{t.target!==h&&t.target!==l&&(m=!1,l.style.whiteSpace="nowrap",a.style.height="60px")})),s){const t=document.getElementById("show-done-list-container");t.insertBefore(c,t.firstChild)}else{const t=document.getElementById("show-yet-list-container");t.insertBefore(c,t.firstChild)}}}}]);