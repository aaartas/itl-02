"use strict";(self.webpackChunklistapp=self.webpackChunklistapp||[]).push([[257],{257:(e,t,s)=>{s.r(t),s.d(t,{login:()=>r,logout:()=>i});const r=async e=>{const{getAuth:t,TwitterAuthProvider:r,signInWithPopup:i}=await Promise.all([s.e(238),s.e(167)]).then(s.bind(s,167)),n=t(),a=new r;i(n,a).then((async()=>{const{getFirestore:t,getDoc:r,doc:i}=await Promise.all([s.e(238),s.e(591)]).then(s.bind(s,591)),a=t(),o=i(a,"users",n.currentUser.uid);if(!(await r(o)).exists()){const{setDoc:e}=await Promise.all([s.e(238),s.e(591)]).then(s.bind(s,591));await e(i(a,"users",n.currentUser.uid),{user_name:n.currentUser.displayName,user_icon:n.currentUser.photoURL,user_title:"の行きたいとこリスト",user_bio:"",twitter_disp_id:n.currentUser.reloadUserInfo.screenName,twitter_sys_id:n.currentUser.providerData[0].uid})}const{routing:u}=await s.e(653).then(s.bind(s,653));u("mypage"),e&&e()}))},i=async()=>{const{getAuth:e,signOut:t}=await Promise.all([s.e(238),s.e(167)]).then(s.bind(s,167));t(e())}}}]);