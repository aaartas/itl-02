"use strict";(self.webpackChunklistapp=self.webpackChunklistapp||[]).push([[561],{561:(e,t,i)=>{i.r(t),i.d(t,{getLists:()=>a,saveData:()=>r});const a=async e=>{const{getFirestore:t,collection:a,getDocs:r,query:c,where:s}=await Promise.all([i.e(238),i.e(591)]).then(i.bind(i,591)),m=c(a(t(),"users",e,"list"),s("item_remove","==",!1));return(await r(m)).docs.map((e=>({iid:e.id,name:e.data().item_name,check:e.data().item_check,remove:e.data().item_remove,order:e.data().item_order,regist_date:e.data().item_regist_date,check_date:e.data().item_check_date})))},r=async(e,t,r)=>{const{getFirestore:c,collection:s,addDoc:m,doc:d,updateDoc:o,serverTimestamp:n}=await Promise.all([i.e(238),i.e(591)]).then(i.bind(i,591)),_=c(),h=await a(e);t.forEach((t=>{const i=h.find((({iid:e})=>e===t.iid));void 0===i?t.remove||m(s(_,"users",e,"list"),{item_name:t.name,item_check:t.check,item_remove:!1,item_order:t.order,item_regist_date:n(),item_check_date:t.check?n():null}):JSON.stringify(t)!==JSON.stringify(i)&&o(d(_,"users",e,"list",i.iid),{item_name:t.name,item_check:t.check,item_remove:t.remove,item_order:t.order,item_check_date:t.check?n():null})})),r.forEach((t=>{const i=h.find((({iid:e})=>e===t.iid));t.remove&&o(d(_,"users",e,"list",i.iid),{item_remove:t.remove})}))}}}]);