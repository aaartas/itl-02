"use strict";(self.webpackChunklistapp=self.webpackChunklistapp||[]).push([[938],{938:(e,t,s)=>{s.r(t),s.d(t,{createUserData:()=>i,getUserData:()=>a,checkUserData:()=>r,updateUserData:()=>d});const i=async e=>{const{getFirestore:t,getDoc:i,doc:a,serverTimestamp:r}=await Promise.all([s.e(238),s.e(591)]).then(s.bind(s,591)),d=t(),o=a(d,"users",e.uid);if(!(await i(o)).exists()){const{setDoc:t}=await Promise.all([s.e(238),s.e(591)]).then(s.bind(s,591));await t(a(d,"users",e.uid),{user_name:e.displayName,user_icon:e.photoURL,list_title:"の行きたいとこリスト",user_bio:"",twitter_disp_id:e.reloadUserInfo.screenName,twitter_sys_id:e.providerData[0].uid,user_regist_date:r()})}},a=async e=>{const{getFirestore:t,getDoc:i,doc:a}=await Promise.all([s.e(238),s.e(591)]).then(s.bind(s,591)),r=a(t(),"users",e),d=await i(r);if(d.exists())return{uid:e,user_name:d.data().user_name,user_icon:d.data().user_icon,list_title:d.data().list_title,user_bio:d.data().user_bio,twitter_disp_id:d.data().twitter_disp_id,twitter_sys_id:d.data().twitter_sys_id,user_regist_date:d.data().user_regist_date}},r=(e,t)=>JSON.stringify(Object.entries(e).sort())!==JSON.stringify(Object.entries(t).sort()),d=async e=>{const{getFirestore:t,doc:i,updateDoc:a}=await Promise.all([s.e(238),s.e(591)]).then(s.bind(s,591));a(i(t(),"users",e.uid),{list_title:e.list_title,user_bio:e.user_bio})}}}]);