"use strict";(self.webpackChunklistapp=self.webpackChunklistapp||[]).push([[938],{938:(e,t,s)=>{s.r(t),s.d(t,{createUserData:()=>i,getUserData:()=>r,checkUserData:()=>a,updateUserData:()=>_});const i=async e=>{const{getFirestore:t,setDoc:i,doc:r,serverTimestamp:a}=await Promise.all([s.e(238),s.e(591)]).then(s.bind(s,591)),_=t(),d=e.reloadUserInfo.providerUserInfo[0];await i(r(_,"users",e.uid),{user_name:d.displayName,user_icon:d.photoUrl,list_title:"の行きたいとこリスト",user_bio:"",twitter_disp_id:d.screenName,twitter_sys_id:d.rawId,user_regist_date:a()})},r=async e=>{const{getFirestore:t,getDoc:i,doc:r}=await Promise.all([s.e(238),s.e(591)]).then(s.bind(s,591)),a=r(t(),"users",e),_=await i(a);return!!_.exists()&&{uid:e,user_name:_.data().user_name,user_icon:_.data().user_icon,list_title:_.data().list_title,user_bio:_.data().user_bio,twitter_disp_id:_.data().twitter_disp_id,twitter_sys_id:_.data().twitter_sys_id,user_regist_date:_.data().user_regist_date}},a=(e,t)=>JSON.stringify(Object.entries(e).sort())!==JSON.stringify(Object.entries(t).sort()),_=async e=>{const{getFirestore:t,doc:i,updateDoc:r}=await Promise.all([s.e(238),s.e(591)]).then(s.bind(s,591));r(i(t(),"users",e.uid),{user_name:e.user_name,user_icon:e.user_icon,list_title:e.list_title,user_bio:e.user_bio,twitter_disp_id:e.twitter_disp_id})}}}]);